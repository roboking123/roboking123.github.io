å¥½çš„ï¼Œé€™æ˜¯ä¸€ä»½æ ¹æ“šæ‚¨çš„å®Œæ•´åŠŸèƒ½éœ€æ±‚æ–‡ä»¶ï¼Œç›´æ¥æ’°å¯«çš„HTMLçµæ§‹éª¨æ¶ã€‚

é€™ä»½æ–‡ä»¶æ˜¯ä¸€å€‹å–®ä¸€çš„HTMLæª”æ¡ˆï¼Œå®ƒåŒ…å«äº†æ‰€æœ‰é é¢å’ŒåŠŸèƒ½çš„çµæ§‹è—åœ–ã€‚æ‚¨å¯ä»¥å°‡æ­¤æª”æ¡ˆç›´æ¥åœ¨ç€è¦½å™¨ä¸­æ‰“é–‹ï¼Œä»¥æª¢è¦–ç¶²ç«™çš„éœæ…‹ä½ˆå±€ã€‚å¯¦éš›çš„åŠŸèƒ½ï¼ˆå¦‚è³‡æ–™å„²å­˜ã€AIäº’å‹•ã€é›²ç«¯åŒæ­¥ï¼‰å°‡éœ€è¦ç”¨JavaScriptä¾†å¯¦ç¾ï¼Œæˆ‘åœ¨`<script>`æ¨™ç±¤ä¸­ç”¨è¨»è§£è©³ç´°èªªæ˜äº†æ¯ä¸€éƒ¨åˆ†éœ€è¦å¯¦ç¾çš„é‚è¼¯ï¼Œå¯ä¾›å¾ŒçºŒé–‹ç™¼åƒè€ƒã€‚

***

### èªªæ˜
* **ç´”å‰ç«¯è¨­è¨ˆ**ï¼šæ•´å€‹ç¶²ç«™è¢«è¨­è¨ˆæˆä¸€å€‹å–®é æ‡‰ç”¨ç¨‹å¼ï¼ˆSPAï¼‰ï¼Œæ‰€æœ‰å…§å®¹éƒ½åœ¨ä¸€å€‹HTMLæª”æ¡ˆä¸­ï¼Œé€éé¡¯ç¤º/éš±è—ä¸åŒçš„`<div>`å€å¡Šä¾†æ¨¡æ“¬é é¢åˆ‡æ›ï¼Œå®Œå…¨ç¬¦åˆã€Œä¸è¦å½ˆå‡ºè¦–çª—ã€å’Œã€Œç´”å‰ç«¯è§£æ±ºæ–¹æ¡ˆã€çš„è¦æ±‚ã€‚
* **éŸ¿æ‡‰å¼ä½ˆå±€**ï¼šåŸºç¤CSSä½¿ç”¨äº†Flexboxä½ˆå±€ï¼Œç¢ºä¿åœ¨é›»è…¦ã€å¹³æ¿å’Œæ‰‹æ©Ÿä¸Šéƒ½æœ‰è‰¯å¥½çš„ç€è¦½é«”é©—ã€‚
* **å¯æ“´å±•æ€§**ï¼šæ‰€æœ‰å‹•æ…‹åˆ—è¡¨ï¼ˆå¦‚è§’è‰²åˆ—è¡¨ã€AIç´ æé¸æ“‡å™¨ï¼‰éƒ½æœ‰ä¸€å€‹æ¸…æ™°çš„å®¹å™¨`<div>`å’Œä¸€å€‹è¨»è§£èµ·ä¾†çš„ã€Œæ¨¡æ¿ã€ï¼Œæ–¹ä¾¿å¾ŒçºŒç”¨JavaScriptå‹•æ…‹ç”Ÿæˆå…§å®¹ã€‚
* **å¯é…ç½®æ€§**ï¼šåœ¨ã€Œè¨­å®šã€é é¢ä¸­ï¼Œæˆ‘ç‚ºæ‚¨è¦æ±‚çš„å¯ä¿®æ”¹é …ç›®ï¼ˆå¦‚é è¨­æ¨™ç±¤ã€AIæ¨¡æ¿ï¼‰å»ºç«‹äº†å°ˆé–€çš„è¼¸å…¥æ¡†ï¼Œç¬¦åˆã€Œä¸éœ€è¦æˆ‘é€²å…¥ç¨‹å¼ç¢¼ã€ä¿®æ”¹çš„éœ€æ±‚ã€‚

***

### `index.html` (å°èªªç´ æåº« - å®Œæ•´çµæ§‹)

```html
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°èªªç´ æåº«</title>
    <style>
        /* --- å…¨å±€æ¨£å¼èˆ‡ç¾ä»£åŒ–ç•Œé¢ --- */
        :root {
            --primary-bg: #1a1a1d;
            --secondary-bg: #2a2a2e;
            --card-bg: #3a3a3e;
            --text-color: #f0f0f0;
            --primary-accent: #4a90e2;
            --secondary-accent: #7b4397;
            --danger-color: #c94c4c;
            --success-color: #4caf50;
            --font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif;
        }
        body {
            font-family: var(--font-family);
            margin: 0;
            background-color: var(--primary-bg);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        * { box-sizing: border-box; }

        /* --- ç™»å…¥é é¢ --- */
        #login-page {
            text-align: center;
            background-color: var(--secondary-bg);
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }
        #login-page input[type="password"] {
            padding: 10px;
            width: 250px;
            margin-top: 10px;
            border: 1px solid var(--primary-accent);
            border-radius: 4px;
            background-color: var(--card-bg);
            color: var(--text-color);
        }
        #login-page button {
            padding: 10px 20px;
            margin-top: 20px;
            background-color: var(--primary-accent);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        #login-page .remember-me { margin-top: 15px; }

        /* --- ä¸»æ‡‰ç”¨ç¨‹å¼å®¹å™¨ (éŸ¿æ‡‰å¼è¨­è¨ˆ) --- */
        #app-container {
            display: none; /* é è¨­éš±è—ï¼Œç™»å…¥å¾Œé¡¯ç¤º */
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: row;
        }

        /* --- å°èˆªæ¬„ --- */
        nav {
            width: 220px;
            background-color: var(--secondary-bg);
            padding: 20px 0;
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
        }
        nav h1 { font-size: 1.5em; text-align: center; margin-bottom: 30px; }
        nav ul { list-style: none; padding: 0; margin: 0; }
        nav ul li a {
            display: block;
            padding: 15px 25px;
            color: var(--text-color);
            text-decoration: none;
            transition: background-color 0.3s;
        }
        nav ul li a.active, nav ul li a:hover {
            background-color: var(--primary-accent);
        }
        .nav-footer { margin-top: auto; padding: 20px; text-align: center; font-size: 0.8em;}


        /* --- ä¸»å…§å®¹å€åŸŸ --- */
        main {
            flex-grow: 1;
            padding: 30px;
            overflow-y: auto;
            height: 100vh;
        }
        .page {
            display: none; /* æ‰€æœ‰é é¢é è¨­éš±è— */
        }
        .page.active {
            display: block; /* ç•¶å‰é é¢é¡¯ç¤º */
        }
        
        /* --- å…§å®¹é€šç”¨å…ƒä»¶ --- */
        h2 { border-bottom: 2px solid var(--primary-accent); padding-bottom: 10px; }
        .toolbar { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        .toolbar input, .toolbar select, .toolbar button {
            padding: 8px 12px;
            border-radius: 4px;
            border: 1px solid var(--primary-accent);
            background-color: var(--card-bg);
            color: var(--text-color);
        }
        .toolbar button { cursor: pointer; background-color: var(--secondary-accent); border-color: var(--secondary-accent);}
        .toolbar .danger-button { background-color: var(--danger-color); border-color: var(--danger-color);}
        
        /* åˆ—è¡¨æ¨£å¼ */
        .item-list .item {
            background-color: var(--card-bg);
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
        }
        .item-list .item:hover { background-color: #4a4a50; }
        .item-list .item-content { flex-grow: 1; }
        .item-list .item-title { font-weight: bold; }
        .item-list .item-summary { font-size: 0.9em; opacity: 0.8; }

        /* æ¨™ç±¤æ¨£å¼ */
        .tag {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.8em;
            margin-right: 5px;
        }

        /* ç·¨è¼¯é é¢æ¨£å¼ */
        .edit-form label { display: block; margin-top: 15px; margin-bottom: 5px; font-weight: bold; }
        .edit-form input[type="text"], .edit-form select {
            width: 100%;
            padding: 10px;
            border-radius: 4px;
            border: 1px solid var(--primary-accent);
            background-color: var(--card-bg);
            color: var(--text-color);
        }
        /* å¤§å‹è¼¸å…¥æ¡† */
        .edit-form textarea {
            width: 100%;
            min-height: 150px;
            padding: 10px;
            border-radius: 4px;
            border: 1px solid var(--primary-accent);
            background-color: var(--card-bg);
            color: var(--text-color);
            resize: vertical;
        }
        .edit-form .form-actions { margin-top: 20px; }
        #autosave-status {
            margin-left: 15px;
            font-style: italic;
            opacity: 0.7;
        }

        /* AI å‰µä½œåŠ©æ‰‹é é¢ä½ˆå±€ */
        #ai-assistant-page .container {
            display: flex;
            gap: 20px;
            height: calc(100vh - 150px);
        }
        .material-selector, .prompt-history {
            width: 25%;
            background-color: var(--secondary-bg);
            padding: 15px;
            border-radius: 8px;
            overflow-y: auto;
        }
        .prompt-editor {
            width: 50%;
            display: flex;
            flex-direction: column;
        }
        /* AIå¤§å‹è‡ªè¨‚æç¤ºè©è¼¸å…¥æ¡† */
        #ai-prompt-input {
            flex-grow: 1;
            width: 100%;
            padding: 15px;
            font-size: 1.1em;
            border-radius: 4px;
            border: 1px solid var(--primary-accent);
            background-color: var(--card-bg);
            color: var(--text-color);
            resize: none; /* JSæœƒè™•ç†é«˜åº¦è®ŠåŒ– */
        }

        /* ç§˜å¯†è¨­å®šç‰¹æ®Šè­¦å‘Š */
        .secret-warning {
            background-color: var(--danger-color);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }

    </style>
</head>
<body>

    <div id="login-page">
        <h1>å°èªªç´ æåº«</h1>
        <p>è«‹è¼¸å…¥å­˜å–å¯†ç¢¼</p>
        <input type="password" id="password-input" value="1234">
        <div class="remember-me">
            <input type="checkbox" id="remember-me-checkbox">
            <label for="remember-me-checkbox">è¨˜ä½ç™»å…¥ç‹€æ…‹</label>
        </div>
        <button id="login-button">é€²å…¥</button>
    </div>

    <div id="app-container">

        <nav>
            <h1>ç´ æåº«</h1>
            <ul>
                <li><a href="#dashboard-page" class="nav-link active">ä¸»æ§å°</a></li>
                <li><a href="#characters-page" class="nav-link">ğŸ‘¤ è§’è‰²è¨­å®š</a></li>
                <li><a href="#backgrounds-page" class="nav-link">ğŸŒ æ•…äº‹èƒŒæ™¯</a></li>
                <li><a href="#secrets-page" class="nav-link">ğŸ” ç§˜å¯†è¨­å®š</a></li>
                <li><a href="#novels-page" class="nav-link">ğŸ“– å·²ç”Ÿæˆå°èªª</a></li>
                <li><a href="#ai-assistant-page" class="nav-link">ğŸ¤– AIå‰µä½œåŠ©æ‰‹</a></li>
            </ul>
            <div class="nav-footer">
                <a href="#settings-page" class="nav-link">âš™ï¸ è¨­å®š/å‚™ä»½</a>
            </div>
        </nav>

        <main>
            <div id="dashboard-page" class="page active">
                <h2>ä¸»æ§å°ç¸½è¦½</h2>
                <section>
                    <h3>è³‡æ–™çµ±è¨ˆ</h3>
                    <p>è§’è‰²ç¸½æ•¸ï¼š<span id="stats-characters">0</span></p>
                    <p>èƒŒæ™¯ç¸½æ•¸ï¼š<span id="stats-backgrounds">0</span></p>
                    <p>ç§˜å¯†ç¸½æ•¸ï¼š<span id="stats-secrets">0</span></p>
                    <p>å°èªªç¸½æ•¸ï¼š<span id="stats-novels">0</span></p>
                    <p>ç¸½å­—æ•¸çµ±è¨ˆï¼š<span id="stats-total-words">0</span> å­—</p>
                </section>
                <section>
                    <h3>æœ€è¿‘æ´»å‹•</h3>
                    <ul id="recent-activity-list">
                        <li>å‰›å‰›ä¿®æ”¹äº† è§’è‰²ã€Œè‰¾è‰äºã€</li>
                        <li>3å°æ™‚å‰ æ–°å¢äº† èƒŒæ™¯ã€Œé¢¨èªä¹‹æ£®ã€</li>
                    </ul>
                </section>
            </div>

            <div id="characters-page" class="page">
                <h2>ğŸ‘¤ è§’è‰²è¨­å®š</h2>
                <div class="toolbar">
                    <button id="add-character-btn">ï¼‹ æ–°å¢è§’è‰²</button>
                    <input type="search" id="character-search" placeholder="å…¨æ–‡æœå°‹è§’è‰²...">
                    <select id="character-tag-filter">
                        <option value="">æ‰€æœ‰æ¨™ç±¤</option>
                        </select>
                    <button id="character-batch-delete" class="danger-button">æ‰¹é‡åˆªé™¤</button>
                    <button id="character-batch-tag">æ‰¹é‡æ¨™ç±¤</button>
                </div>
                <div id="character-list" class="item-list">
                    </div>
            </div>

            <div id="backgrounds-page" class="page">
                <h2>ğŸŒ æ•…äº‹èƒŒæ™¯</h2>
                <div class="toolbar">
                    <button id="add-background-btn">ï¼‹ æ–°å¢èƒŒæ™¯</button>
                    <input type="search" id="background-search" placeholder="å…¨æ–‡æœå°‹èƒŒæ™¯...">
                    <select id="background-tag-filter">
                         <option value="">æ‰€æœ‰æ¨™ç±¤</option>
                    </select>
                    <button id="background-batch-delete" class="danger-button">æ‰¹é‡åˆªé™¤</button>
                    <button id="background-batch-tag">æ‰¹é‡æ¨™ç±¤</button>
                </div>
                <div id="background-list" class="item-list">
                    </div>
            </div>

            <div id="secrets-page" class="page">
                <h2>ğŸ” ç§˜å¯†è¨­å®š</h2>
                <div class="toolbar">
                    <button id="add-secret-btn">ï¼‹ æ–°å¢ç§˜å¯†</button>
                    <input type="search" id="secret-search" placeholder="å…¨æ–‡æœå°‹ç§˜å¯†...">
                    <select id="secret-tag-filter">
                        <option value="">æ‰€æœ‰æ¨™ç±¤</option>
                    </select>
                    <button id="secret-batch-delete" class="danger-button">æ‰¹é‡åˆªé™¤</button>
                    <button id="secret-batch-tag">æ‰¹é‡æ¨™ç±¤</button>
                </div>
                <div id="secret-list" class="item-list">
                    </div>
            </div>

             <div id="novels-page" class="page">
                <h2>ğŸ“– å·²ç”Ÿæˆå°èªª</h2>
                <div class="toolbar">
                    <input type="search" id="novel-search" placeholder="æœå°‹å°èªªæ¨™é¡Œæˆ–å…§å®¹...">
                    <select id="novel-sort">
                        <option value="date_desc">æŒ‰æ™‚é–“æ’åº (æ–°â†’èˆŠ)</option>
                        <option value="date_asc">æŒ‰æ™‚é–“æ’åº (èˆŠâ†’æ–°)</option>
                        <option value="title_asc">æŒ‰æ¨™é¡Œæ’åº (Aâ†’Z)</option>
                    </select>
                </div>
                <div id="novel-list" class="item-list">
                    </div>
            </div>
            
            <div id="edit-page" class="page">
                <h2 id="edit-page-title">ç·¨è¼¯é …ç›®</h2>
                <div id="edit-form-container">
                    <form id="edit-character-form" class="edit-form" style="display:none;">
                        <input type="hidden" id="char-id">
                        <label for="char-name">è§’è‰²åç¨± (å¿…å¡«)</label>
                        <input type="text" id="char-name" required>
                        <label for="char-age">å¹´é½¡</label>
                        <input type="text" id="char-age">
                        <label for="char-appearance">å¤–è²Œæè¿°</label>
                        <textarea id="char-appearance" rows="5"></textarea>
                        <label for="char-race">ç¨®æ—</label>
                        <input type="text" id="char-race">
                        <label for="char-personality">æ€§æ ¼ç‰¹è³ª</label>
                        <textarea id="char-personality" rows="4"></textarea>
                        <label for="char-story">èƒŒæ™¯æ•…äº‹</label>
                        <textarea id="char-story" rows="8"></textarea>
                        <label for="char-notes">é¡å¤–å‚™è¨»</label>
                        <textarea id="char-notes" rows="3"></textarea>
                        <label for="char-tags">æ¨™ç±¤ (ä»¥é€—è™Ÿåˆ†éš”)</label>
                        <input type="text" id="char-tags" placeholder="ä¸»è§’, åæ´¾, é‡è¦...">
                    </form>
                    <form id="edit-background-form" class="edit-form" style="display:none;">
                        <input type="hidden" id="bg-id">
                        <label for="bg-name">å ´æ™¯åç¨± (å¿…å¡«)</label>
                        <input type="text" id="bg-name" required>
                        <label for="bg-type">é¡å‹</label>
                        <select id="bg-type">
                            <option>åœ°é»</option>
                            <option>æ™‚ä»£</option>
                            <option>ä¸–ç•Œè§€</option>
                            <option>æ–‡åŒ–</option>
                            <option>å…¶ä»–</option>
                        </select>
                        <label for="bg-description">è©³ç´°æè¿°</label>
                        <textarea id="bg-description" rows="8"></textarea>
                        <label for="bg-rules">è¦å‰‡/æ³•å‰‡</label>
                        <textarea id="bg-rules" rows="5"></textarea>
                        <label for="bg-notes">å‚™è¨»</label>
                        <textarea id="bg-notes" rows="3"></textarea>
                        <label for="bg-tags">æ¨™ç±¤ (ä»¥é€—è™Ÿåˆ†éš”)</label>
                        <input type="text" id="bg-tags">
                    </form>
                    <form id="edit-secret-form" class="edit-form" style="display:none;">
                        <input type="hidden" id="secret-id">
                        <label for="secret-title">æ¨™é¡Œ (å¿…å¡«)</label>
                        <input type="text" id="secret-title" required>
                        <label for="secret-category">é¡åˆ¥</label>
                        <select id="secret-category">
                            <option>åŠ‡æƒ…è½‰æŠ˜</option>
                            <option>è§’è‰²ç§˜å¯†</option>
                            <option>ä¸–ç•Œè¨­å®š</option>
                            <option>ä¼ç­†</option>
                            <option>çµå±€</option>
                            <option>ç§˜å¯†é è¨­è¢«èª°çŸ¥é“</option>
                        </select>
                        <label for="secret-content">å…§å®¹</label>
                        <textarea id="secret-content" rows="8"></textarea>
                        <label for="secret-importance">å½±éŸ¿/é‡è¦æ€§</label>
                        <textarea id="secret-importance" rows="4"></textarea>
                        <label>
                            <input type="checkbox" id="secret-spoiler"> ç‰¹æ®Šè­¦å‘Šé¡¯ç¤º (åŠ‡é€æé†’)
                        </label>
                    </form>
                </div>
                <div class="form-actions">
                    <button id="save-item-btn">å„²å­˜</button>
                    <button id="back-to-list-btn">è¿”å›åˆ—è¡¨</button>
                    <button id="delete-item-btn" class="danger-button">åˆªé™¤æ­¤é …ç›®</button>
                    <span id="autosave-status"></span>
                </div>
            </div>

            <div id="view-page" class="page">
                 <h2 id="view-title"></h2>
                 <div id="view-content">
                    </div>
                 <div class="toolbar">
                    <button id="view-edit-btn">ç·¨è¼¯</button>
                    <button id="view-back-btn">è¿”å›åˆ—è¡¨</button>
                 </div>
            </div>
            
            <div id="ai-assistant-page" class="page">
                <h2>ğŸ¤– AIå‰µä½œåŠ©æ‰‹</h2>
                <div class="container">
                    <div class="material-selector">
                        <h4>é¸æ“‡ç´ æåŠ å…¥æç¤ºè©</h4>
                        <div id="ai-material-selector-content">
                            <h5>ğŸ‘¤ è§’è‰²</h5>
                            <div id="ai-character-selector"></div>
                            <h5>ğŸŒ èƒŒæ™¯</h5>
                            <div id="ai-background-selector"></div>
                            <h5>ğŸ” ç§˜å¯†</h5>
                            <div id="ai-secret-selector"></div>
                        </div>
                    </div>
                    <div class="prompt-editor">
                        <textarea id="ai-prompt-input" placeholder="åœ¨é€™è£¡è¼¸å…¥æˆ–ä½¿ç”¨å³å´æ¨¡æ¿ç”Ÿæˆä½ çš„AIæç¤ºè©..."></textarea>
                        <div class="toolbar" style="margin-top: 10px;">
                            <button id="send-to-perplexity-btn">ä¸€éµç™¼é€åˆ° Perplexity</button>
                            <button id="copy-prompt-btn">è¤‡è£½æç¤ºè©</button>
                            <button id="save-prompt-template-btn">å„²å­˜ç‚ºå¸¸ç”¨</button>
                        </div>
                    </div>
                    <div class="prompt-history">
                        <h4>æ™ºæ…§æ¨¡æ¿</h4>
                        <button class="template-btn" data-template="story">å‰µä½œå®Œæ•´/æ—¥å¸¸æ•…äº‹</button>
                        <button class="template-btn" data-template="dialogue">è§’è‰²å°è©±ç”Ÿæˆ</button>
                        <button class="template-btn" data-template="scene">å ´æ™¯æè¿°</button>
                        <button class="template-btn" data-template="dnd">DND/RPGè§’è‰²æ¨¡æ¿</button>
                        
                        <h4 style="margin-top:20px;">å¸¸ç”¨æç¤ºè©</h4>
                        <ul id="saved-prompts-list"></ul>

                        <h4 style="margin-top:20px;">æç¤ºè©æ­·å²</h4>
                        <ul id="prompt-history-list"></ul>
                    </div>
                </div>
            </div>
            
            <div id="settings-page" class="page">
                <h2>âš™ï¸ è¨­å®š/å‚™ä»½</h2>
                <section>
                    <h3>åŸºç¤å®‰å…¨åŠŸèƒ½</h3>
                    <label for="setting-password">ä¿®æ”¹ç¶²ç«™å­˜å–å¯†ç¢¼</label>
                    <input type="password" id="setting-password" placeholder="è¼¸å…¥æ–°å¯†ç¢¼">
                    <button id="save-password-btn">å„²å­˜æ–°å¯†ç¢¼</button>
                </section>
                <section>
                    <h3>â˜ï¸ Googleé›²ç«¯å‚™ä»½æ•´åˆ</h3>
                    <div id="gdrive-status">ç‹€æ…‹ï¼šæœªç™»å…¥</div>
                    <button id="gdrive-login-btn">ä½¿ç”¨Googleå¸³è™Ÿç™»å…¥ä¸¦æˆæ¬Š</button>
                    <button id="gdrive-backup-btn" disabled>ç«‹å³æ‰‹å‹•å‚™ä»½</button>
                    <button id="gdrive-restore-btn" disabled>å¾é›²ç«¯é‚„åŸ</button>
                    <h4>æœ€è¿‘5å€‹å‚™ä»½ç‰ˆæœ¬ï¼š</h4>
                    <ul id="gdrive-versions-list">
                        </ul>
                </section>
                <section>
                    <h3>åŒ¯å…¥/åŒ¯å‡º</h3>
                    <button id="export-json-btn">åŒ¯å‡ºç‚ºJSONæ ¼å¼</button>
                    <button id="export-markdown-btn">åŒ¯å‡ºç‚ºå¯è®€æ ¼å¼(Markdown)</button>
                    <br><br>
                    <label for="import-json-file">å¾JSONæª”æ¡ˆåŒ¯å…¥ï¼š</label>
                    <input type="file" id="import-json-file" accept=".json">
                </section>
                <section>
                    <h3>è‡ªè¨‚é è¨­å€¼èˆ‡æ¨¡æ¿</h3>
                    <form id="custom-settings-form" class="edit-form">
                        <label for="setting-default-tags">é è¨­æ¨™ç±¤ (ä»¥é€—è™Ÿåˆ†éš”)</label>
                        <input type="text" id="setting-default-tags" value="ä¸»è§’, é…è§’, åæ´¾, é‡è¦, æ¬¡è¦">
                        <label for="setting-dnd-template">DND/RPGè§’è‰²æ¨¡æ¿</label>
                        <textarea id="setting-dnd-template" rows="10">è«‹åŸºæ–¼ä»¥ä¸‹è³‡è¨Šï¼Œç‚ºæˆ‘ç”Ÿæˆä¸€å€‹DND 5eæˆ–Pathfinderé¢¨æ ¼çš„è§’è‰²èƒŒæ™¯æ•…äº‹ï¼š
- å§“å: {{è§’è‰²åç¨±}}
- ç¨®æ—: {{ç¨®æ—}}
- è·æ¥­: [è«‹å¡«å¯«]
- é™£ç‡Ÿ: [è«‹å¡«å¯«]
- æ€§æ ¼: {{æ€§æ ¼ç‰¹è³ª}}
- å¤–è§€: {{å¤–è²Œæè¿°}}
- èƒŒæ™¯: {{èƒŒæ™¯æ•…äº‹}}
è«‹å°‡æ•…äº‹æ“´å¯«åˆ°ç´„500å­—ï¼Œä¸¦åŒ…å«ä¸€å€‹é—œéµçš„è½‰æŠ˜é»ã€‚</textarea>
                        <button id="save-custom-settings-btn">å„²å­˜è‡ªè¨‚è¨­å®š</button>
                    </form>
                </section>
            </div>
        </main>
    </div>

<script>
// =================================================================
//                 å°èªªç´ æåº« JAVASCRIPT é‚è¼¯å€ (å¾…å¯¦ç¾)
// =================================================================

document.addEventListener('DOMContentLoaded', () => {

    // --- æ ¸å¿ƒè³‡æ–™å„²å­˜ ---
    // æ‡‰ç”¨ç¨‹å¼ç‹€æ…‹ï¼Œæ‰€æœ‰è³‡æ–™å°‡å„²å­˜åœ¨æ­¤ç‰©ä»¶ä¸­
    // å¯¦éš›æ‡‰ç”¨ä¸­ï¼Œæ­¤ç‰©ä»¶æœƒåœ¨å•Ÿå‹•æ™‚å¾ localStorage æˆ– Google Drive è¼‰å…¥
    const AppState = {
        password: '1234',
        rememberMe: false,
        settings: {
            defaultTags: ['ä¸»è§’', 'é…è§’', 'åæ´¾', 'é‡è¦', 'æ¬¡è¦'],
            dndTemplate: '...', // é è¨­æ¨¡æ¿å…§å®¹
            // ...å…¶ä»–è¨­å®š
        },
        data: {
            characters: [], // { id, name, age, ... }
            backgrounds: [], // { id, name, type, ... }
            secrets: [],     // { id, title, category, ... }
            novels: [],      // { id, title, prompt, content, ... }
        },
        ui: {
            currentPage: '#dashboard-page',
            editingItemId: null,
            editingItemType: null, // 'character', 'background', etc.
        }
    };

    // --- 1. åŸºç¤å®‰å…¨èˆ‡ç™»å…¥é‚è¼¯ ---
    function initializeLogin() {
        // æª¢æŸ¥ localStorage ä¸­æ˜¯å¦æœ‰è¨˜ä½çš„å¯†ç¢¼æˆ–ç™»å…¥ç‹€æ…‹
        // å¦‚æœæœ‰ï¼Œç›´æ¥é¡¯ç¤ºä¸»æ‡‰ç”¨ç¨‹å¼
        // å¦å‰‡ï¼Œé¡¯ç¤ºç™»å…¥é é¢
        // login-button çš„é»æ“Šäº‹ä»¶ï¼š
        //   - é©—è­‰å¯†ç¢¼
        //   - å¦‚æœæ­£ç¢ºï¼Œéš±è— #login-pageï¼Œé¡¯ç¤º #app-container
        //   - è™•ç†ã€Œè¨˜ä½æˆ‘ã€é¸é …ï¼Œå°‡ç‹€æ…‹å­˜å…¥ localStorage
    }

    // --- 2. å°èˆªèˆ‡é é¢åˆ‡æ›é‚è¼¯ ---
    function setupNavigation() {
        // ç‚ºæ‰€æœ‰ .nav-link æ·»åŠ é»æ“Šäº‹ä»¶
        // é»æ“Šæ™‚ï¼š
        //   - ç§»é™¤æ‰€æœ‰ .nav-link çš„ 'active' class
        //   - ç‚ºè¢«é»æ“Šçš„é€£çµæ·»åŠ  'active' class
        //   - éš±è—æ‰€æœ‰ .page å…ƒç´ 
        //   - æ ¹æ“šé€£çµçš„ href (å¦‚ '#characters-page') é¡¯ç¤ºå°æ‡‰çš„ .page å…ƒç´ 
        //   - æ›´æ–° AppState.ui.currentPage
    }

    // --- 3. è³‡æ–™ç®¡ç†èˆ‡æ¸²æŸ“ ---
    // (éœ€è¦ç‚º character, background, secret åˆ†åˆ¥æˆ–çµ±ä¸€å»ºç«‹æ¸²æŸ“å‡½æ•¸)
    function renderCharacterList() {
        // æ¸…ç©º #character-list
        // éæ­· AppState.data.characters
        // æ ¹æ“šæœå°‹å’Œæ¨™ç±¤ç¯©é¸æ¢ä»¶éæ¿¾
        // ç‚ºæ¯å€‹è§’è‰²å‰µå»ºHTMLå…ƒç´  (å¯ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²)ï¼Œä¸¦æ·»åŠ åˆ° #character-list
        // ç‚ºæ¯å€‹é …ç›®æ·»åŠ é»æ“Šäº‹ä»¶ï¼Œä»¥è·³è½‰åˆ°æª¢è¦–é é¢
    }
    // ...é¡ä¼¼çš„ renderBackgroundList(), renderSecretList() ...

    // --- 4. æ–°å¢/ç·¨è¼¯/æª¢è¦–é‚è¼¯ ---
    function openEditPage(type, id = null) {
        // type: 'character', 'background', etc.
        // id: å¦‚æœæ˜¯ç·¨è¼¯ï¼Œå‰‡å‚³å…¥é …ç›®idï¼›å¦‚æœæ˜¯æ–°å¢ï¼Œå‰‡ç‚ºnull
        // é‚è¼¯:
        //   - é¡¯ç¤º #edit-page
        //   - éš±è—æ‰€æœ‰ edit-formï¼Œåªé¡¯ç¤ºå°æ‡‰ type çš„è¡¨å–® (å¦‚ #edit-character-form)
        //   - å¦‚æœæ˜¯ç·¨è¼¯ (idå­˜åœ¨)ï¼Œå‰‡å¾ AppState è®€å–è³‡æ–™ä¸¦å¡«å……è¡¨å–®
        //   - å¦‚æœæ˜¯æ–°å¢ï¼Œå‰‡æ¸…ç©ºè¡¨å–®
        //   - æ›´æ–° AppState.ui.editing... ç‹€æ…‹
    }

    function openViewPage(type, id) {
        // é‚è¼¯:
        //   - é¡¯ç¤º #view-page
        //   - å¾ AppState è®€å–è³‡æ–™
        //   - å°‡è³‡æ–™æ ¼å¼åŒ–ç‚ºHTMLä¸¦å¡«å…¥ #view-content
        //   - ç‰¹åˆ¥è™•ç†ç§˜å¯†è¨­å®šçš„åŠ‡é€è­¦å‘Š
    }
    
    function saveItem() {
        // æ ¹æ“š AppState.ui.editingItemType è®€å–å°æ‡‰è¡¨å–®çš„è³‡æ–™
        // é©—è­‰å¿…å¡«é …
        // å¦‚æœæ˜¯æ–°å¢ï¼Œç”Ÿæˆæ–°idï¼Œæ¨å…¥ AppState.data
        // å¦‚æœæ˜¯ç·¨è¼¯ï¼Œæ›´æ–° AppState.data ä¸­å°æ‡‰çš„é …ç›®
        // è§¸ç™¼è‡ªå‹•å„²å­˜åˆ° localStorage/Google Drive
        // è¿”å›åˆ—è¡¨é é¢ä¸¦é‡æ–°æ¸²æŸ“
    }

    // --- 5. AI å‰µä½œåŠ©æ‰‹é‚è¼¯ ---
    function initializeAIAssistant() {
        // æ¸²æŸ“ç´ æé¸æ“‡å™¨åˆ—è¡¨
        // è™•ç†æ¨¡æ¿æŒ‰éˆ•çš„é»æ“Šäº‹ä»¶ï¼Œå°‡æ¨¡æ¿æ–‡å­—å¡«å…¥ #ai-prompt-input
        // è™•ç† #ai-prompt-input çš„è¼¸å…¥äº‹ä»¶ï¼Œä½¿å…¶é«˜åº¦è‡ªå‹•å¢é•·
        //   - textarea.style.height = 'auto';
        //   - textarea.style.height = textarea.scrollHeight + 'px';
        // è™•ç†ã€Œä¸€éµç™¼é€åˆ°Perplexityã€ï¼š
        //   - const url = `https://www.perplexity.ai/search?q=${encodeURIComponent(promptText)}`;
        //   - window.open(url, '_blank');
        // è™•ç†æç¤ºè©çš„è¤‡è£½ã€å„²å­˜ã€æ­·å²è¨˜éŒ„åŠŸèƒ½
    }

    // --- 6. Google Drive æ•´åˆé‚è¼¯ (APIèª¿ç”¨) ---
    // éœ€è¦è¼‰å…¥ Google API client library
    function handleGoogleAuth() {
        // ä½¿ç”¨ gapi (Google API) é€²è¡Œ OAuth 2.0 ç™»å…¥
        // æˆåŠŸå¾Œæ›´æ–°UIç‹€æ…‹
    }
    function backupToDrive() {
        // å°‡ AppState ç‰©ä»¶è½‰æ›ç‚º JSON å­—ç¬¦ä¸²
        // ä½¿ç”¨ Google Drive API ä¸Šå‚³æª”æ¡ˆ
        // ç®¡ç†ç‰ˆæœ¬ï¼Œåªä¿ç•™æœ€è¿‘5å€‹
    }
    function restoreFromDrive() {
        // ä½¿ç”¨ Google Drive API ç²å–æª”æ¡ˆåˆ—è¡¨
        // è®“ç”¨æˆ¶é¸æ“‡ç‰ˆæœ¬
        // ä¸‹è¼‰æª”æ¡ˆå…§å®¹ï¼Œè§£æJSONï¼Œä¸¦è¦†è“‹ AppState
        // é‡æ–°æ¸²æŸ“æ•´å€‹æ‡‰ç”¨ç¨‹å¼
    }
    
    // --- 7. è¨­å®šé é¢é‚è¼¯ ---
    function loadSettings() {
        // å°‡ AppState.settings çš„å€¼å¡«å…¥è¨­å®šé é¢çš„å„å€‹è¼¸å…¥æ¡†ä¸­
    }
    function saveSettings() {
        // è®€å–è¨­å®šé é¢è¼¸å…¥æ¡†çš„å€¼ï¼Œæ›´æ–°åˆ° AppState.settings
        // è§¸ç™¼å„²å­˜
    }

    // --- æ‡‰ç”¨ç¨‹å¼åˆå§‹åŒ– ---
    function main() {
        console.log("æ‡‰ç”¨ç¨‹å¼å•Ÿå‹•");
        // 1. è™•ç†ç™»å…¥
        initializeLogin(); 

        // å‡è¨­å·²ç™»å…¥ï¼Œåˆå§‹åŒ–å„å€‹æ¨¡çµ„
        // 2. è¨­å®šå°èˆª
        setupNavigation();
        
        // 3. æ¸²æŸ“åˆå§‹é é¢ (ä¸»æ§å°)
        // updateDashboardStats();
        // renderRecentActivity();

        // 4. ç‚ºæ‰€æœ‰æŒ‰éˆ•å’Œäº’å‹•å…ƒç´ ç¶å®šäº‹ä»¶
        // e.g., document.getElementById('add-character-btn').addEventListener('click', () => openEditPage('character'));
        // e.g., document.getElementById('save-item-btn').addEventListener('click', saveItem);
        // ...ç­‰ç­‰
    }

    main();
});
</script>

</body>
</html>

```
